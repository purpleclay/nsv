{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"NSV","text":"<p><code>nsv</code> (Next Semantic Version) is a convention-based semantic versioning tool that leans on the power of conventional commits to make versioning your software a breeze!</p>"},{"location":"#why-another-versioning-tool","title":"Why another versioning tool","text":"<p>There are many semantic versioning tools already out there! But they typically require some configuration or custom scripting in your CI system to make them work. No one likes managing config; it is error-prone, and the slightest tweak ultimately triggers a cascade of change across your projects.</p> <p><code>nsv</code> makes intelligent semantic versioning decisions about your project without needing a config file. It is convention-based and adapts to your semantic workflow by analyzing your commit messages.</p> <p>The power is at your fingertips.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>First-class support for semantic versioning. Conventional commits help give it a nudge in the right direction.</li> <li>If you batch your commits per release or prefer a continuous delivery approach, it has you covered.</li> <li>Context-aware, it automatically switches to a monorepo workflow.</li> <li>Extend the power of your commits through commands to dynamically change your semantic release workflow.  experimental</li> <li>Explore how to use it within the purpose-built playground.  experimental</li> </ul>"},{"location":"commands/","title":"Control your workflow with Commands","text":"<p> experimental</p> <p>Conventional Commits is an excellent standard, but sometimes it doesn't fit our semantic versioning needs. Let's consider major version zero application development from the Semantic Versioning (<code>SemVer</code>) 2.0 specification:</p> <pre><code>Major version zero (0.y.z) is for initial development. Anything MAY change at\nany time. The public API SHOULD NOT be considered stable.\n</code></pre> <p>All changes within this workflow are not considered stable and could be breaking. Relying purely on the conventional commit standard would cause a major increment for every commit containing a breaking change prefix or footer. As <code>nsv</code> is SemVer compliant, a major increment will not happen within this workflow unless explicitly instructed to do so with a command:</p> <pre><code>feat!: expose new sorting functionality over API\n\nTo enable support for server-side sorting, the existing structure of the request\nbody has been modified to compartmentalize sorting criteria\n\nnsv: force~major\n</code></pre>"},{"location":"commands/#commands","title":"Commands","text":"<p>Commands are defined in the footer of a commit message using the case-insensitive <code>nsv:</code> prefix. Like conventional commits, it is a simple way of describing semantic versioning intent and fits seamlessly into any developer's workflow.</p>"},{"location":"commands/#forcing-a-semantic-increment","title":"Forcing a semantic increment","text":"<p>The force command allows a developer to take control of the semantic release workflow. Like conventional commits, if multiple commands exist as part of the next release, <code>nsv</code> will choose the one that introduces the largest increment.</p> <p>For simplicity, there is a one-to-one mapping to all semantic increments:</p> <ul> <li><code>force~major</code></li> <li><code>force~minor</code></li> <li><code>force~patch</code></li> </ul> <p>If you need to ignore any previous force commands during a release, a break-glass case exists:</p> <ul> <li><code>force~ignore</code></li> </ul>"},{"location":"commands/#prerelease-support","title":"Prerelease support","text":"<p> coming soon</p>"},{"location":"license/","title":"License","text":"<p>MIT License</p> <p>Copyright (c) 2023 Purple Clay</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"next-version/","title":"Next Semantic Version","text":"<p><code>nsv</code> core principles of being context-aware and convention-based will let you achieve almost all of your semantic versioning needs when running:</p> <pre><code>nsv next\n</code></pre> <p>By scanning all commit messages within the latest release, <code>nsv</code> understands the author's intent and prints the next semantic version to stdout.</p> <p>If you want to see what is happening under the hood you can use the <code>--show</code> flag:</p> <pre><code>nsv next --show\n</code></pre> <pre><code>0.1.0\n\n HEAD  ...  0.1.0\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nc6bfdda fix: fix to the store\na0a1e2b feat: new exciting search feature &lt;&lt; matched\n83def28 ci: configure workflows\nb8a7daf chore: scaffold project\n6c05c93 initialize repository\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n</code></pre> <p>If you need to customize its behavior further, environment variables, CLI flags, or commands can be used.</p>"},{"location":"next-version/#monorepos-as-first-class-citizens","title":"Monorepos as first-class citizens","text":"<p>Monorepo support is not an afterthought. By being context-aware, <code>nsv</code> can detect if it runs outside the repository root and calculates the next semantic version based on its location.</p> <pre><code>awesome-app\n  ui           &lt;&lt; ui/v0.2.1\n    ...\n  backend      &lt;&lt; backend/v0.3.0\n    ...\n  store        &lt;&lt; store/v0.2.3\n    ...\n</code></pre>"},{"location":"next-version/#version-template-customization","title":"Version template customization","text":"<p>Internally <code>nsv</code> utilizes a go template when constructing the next semantic version:</p> <pre><code>{{.Prefix}}{{.Version}}\n</code></pre> <p>Runtime customization of this template is available. For example, you can enforce explicit semantic version usage:</p> ENVCLI <pre><code>NSV_FORMAT=\"{{.SemVer}}\" nsv next\n</code></pre> <pre><code>nsv next --format \"{{.SemVer}}\"\n</code></pre> <p>Head over to the playground to discover more.</p>"},{"location":"next-version/#prerelease-support","title":"Prerelease support","text":"<p> coming soon</p>"},{"location":"playground/","title":"Explore using the Playground","text":"<p> experimental</p> <p>Explore using <code>nsv</code> by launching the in-built playground.</p>"},{"location":"playground/#version-templating","title":"Version templating","text":"<p>Discover how the internal go template is used when generating the next semantic version:</p> <pre><code>nsv playground ui/v0.1.0 --format '{{.Version}}'\n</code></pre> <pre><code>ui/v0.1.0 &gt;&gt; {{.Version}} &gt;&gt; v0.1.0\n\n{{.Prefix}}  &gt;&gt; ui/\n{{.SemVer}}  &gt;&gt; 0.1.0\n{{.Version}} &gt;&gt; v0.1.0\n</code></pre>"},{"location":"playground/#command-composition","title":"Command composition","text":"<p> coming soon</p>"},{"location":"tag-version/","title":"Tag the Next Semantic Version","text":"<p>Let <code>nsv</code> tag your repository with the next calculated semantic version:</p> <pre><code>nsv tag\n</code></pre> <p>An annotated tag will be created with the default commit message of <code>chore: tagged release &lt;version&gt;</code>.</p>"},{"location":"tag-version/#using-a-custom-tag-message","title":"Using a custom tag message","text":"<p>If you are not happy with the commit message, then feel free to change it:</p> ENVCLI <pre><code>NSV_TAG_MESSAGE=\"chore: this is a custom message\" nsv tag\n</code></pre> <pre><code>nsv tag --message \"chore: this is a custom message\"\n</code></pre>"},{"location":"tag-version/#signing-your-tag","title":"Signing your tag","text":"<p>If you require your tag to be signed, please ensure your git config is correct before running <code>nsv</code>. gpg-import is a tool you can easily integrate into your CI workflow and only needs a single environment variable.</p>"},{"location":"tag-version/#version-template-customization","title":"Version template customization","text":"<p>Internally <code>nsv</code> utilizes a go template when constructing the next semantic version. Runtime customization of this template is available here.</p>"},{"location":"install/binary/","title":"Installing the Binary","text":"<p>You can use various package managers to install the <code>nsv</code> binary. Take your pick.</p>"},{"location":"install/binary/#package-managers","title":"Package Managers","text":""},{"location":"install/binary/#homebrew","title":"Homebrew","text":"<p>To use Homebrew:</p> <pre><code>brew install purpleclay/tap/nsv\n</code></pre>"},{"location":"install/binary/#apt","title":"Apt","text":"<p>To install using the apt package manager:</p> <pre><code>echo 'deb [trusted=yes] https://fury.purpleclay.dev/apt/ /' \\\n| sudo tee /etc/apt/sources.list.d/purpleclay.list\nsudo apt update\nsudo apt install -y nsv\n</code></pre> <p>You may need to install the <code>ca-certificates</code> package if you encounter trust issues with regard to the Gemfury certificate:</p> <pre><code>sudo apt update &amp;&amp; sudo apt install -y ca-certificates\n</code></pre>"},{"location":"install/binary/#yum","title":"Yum","text":"<p>To install using the yum package manager:</p> <pre><code>echo '[purpleclay]\nname=purpleclay\nbaseurl=https://fury.purpleclay.dev/yum/\nenabled=1\ngpgcheck=0' | sudo tee /etc/yum.repos.d/purpleclay.repo\nsudo yum install -y nsv\n</code></pre>"},{"location":"install/binary/#aur","title":"Aur","text":"<p>To install from the aur using yay:</p> <pre><code>yay -S nsv-bin\n</code></pre>"},{"location":"install/binary/#linux-packages","title":"Linux Packages","text":"<p>Download and manually install one of the <code>.deb</code>, <code>.rpm</code> or <code>.apk</code> packages from the Releases page.</p> AptYumApk <pre><code>sudo apt install nsv_*.deb\n</code></pre> <pre><code>sudo yum localinstall nsv_*.rpm\n</code></pre> <pre><code>sudo apk add --no-cache --allow-untrusted nsv_*.apk\n</code></pre>"},{"location":"install/binary/#go-install","title":"Go Install","text":"<pre><code>go install github.com/purpleclay/nsv@latest\n</code></pre>"},{"location":"install/binary/#bash-script","title":"Bash Script","text":"<p>To install the latest version using a script:</p> <pre><code>sh -c \"$(curl https://raw.githubusercontent.com/purpleclay/nsv/main/scripts/install)\"\n</code></pre> <p>Download a specific version using the <code>-v</code> flag. The script uses <code>sudo</code> by default but can be disabled through the <code>--no-sudo</code> flag. You can also provide a different installation directory from the default <code>/usr/local/bin</code> by using the <code>-d</code> flag:</p> <pre><code>sh -c \"$(curl https://raw.githubusercontent.com/purpleclay/nsv/main/scripts/install)\" \\\n-- -v v0.1.0 --no-sudo -d ./bin\n</code></pre>"},{"location":"install/binary/#manual-download-of-binary","title":"Manual download of binary","text":"<p>Head over to the Releases page on GitHub and download any release artefact. Unpack the <code>nsv</code> binary and add it to your <code>PATH</code>.</p>"},{"location":"install/binary/#verifying-a-binary-with-cosign","title":"Verifying a binary with cosign","text":"<p>All binaries can be verified using cosign.</p> <ol> <li>Download the checksum files that need to be verified:</li> </ol> <pre><code>curl -sL https://github.com/purpleclay/nsv/releases/download/v0.1.0/checksums.txt -O\ncurl -sL https://github.com/purpleclay/nsv/releases/download/v0.1.0/checksums.txt.sig -O\ncurl -sL https://github.com/purpleclay/nsv/releases/download/v0.1.0/checksums.txt.pem -O\n</code></pre> <ol> <li>Verify the signature of the checksum file:</li> </ol> <pre><code>cosign verify-blob --cert checksums.txt.pem \\\n--signature checksums.txt.sig \\\nchecksums.txt\n</code></pre> <ol> <li>Download any release artifact and verify its SHA256 signature matches the entry within the checksum file:</li> </ol> <pre><code>sha256sum --ignore-missing -c checksums.txt\n</code></pre>"},{"location":"install/source/","title":"Compiling from Source","text":"<p>Download both Go 1.20+ and go-task. Then clone the code from GitHub:</p> <pre><code>git clone https://github.com/purpleclay/nsv.git\ncd nsv\n</code></pre> <p>Build:</p> <pre><code>task\n</code></pre> <p>And check that everything works:</p> <pre><code>./nsv version\n</code></pre>"},{"location":"reference/env-vars/","title":"Dynamic Configuration with Environment Variables","text":"<p> experimental</p> <p>If you need to customize the behavior of <code>nsv</code> you can use the supported environment variables. Environment variables provide a dynamic approach to configuration perfect for integrating <code>nsv</code> into your CI workflow.</p>"},{"location":"reference/env-vars/#variables","title":"Variables","text":"Variable Name Description <code>NSV_FORMAT</code> set a go template for formatting the provided tag <code>NSV_SHOW</code> show how the next semantic version was generated <code>NSV_TAG_MESSAGE</code> a custom message for the tag, overrides the default: <code>chore: tagged release &lt;version&gt;</code>"},{"location":"reference/templating/","title":"Version Customization with Templates","text":"<p> experimental</p> <p>Full support for Go templates ensures <code>nsv</code> is incredibly flexible when generating the next semantic version.</p>"},{"location":"reference/templating/#named-fields","title":"Named Fields","text":"<p>The following named fields represent a semantic version broken down into its parts.</p> Named Field Description Example <code>{{.Prefix}}</code> a monorepo prefix <code>ui/</code> <code>{{.SemVer}}</code> the explicit semantic version. Any leading <code>v</code> prefix will be removed <code>0.1.0</code> <code>{{.Version}}</code> the version number based on the repositories existing naming convention <code>v0.1.0</code>"},{"location":"reference/cli/nsv-next/","title":"nsv next","text":"<pre><code>Generate the next semantic version based on the conventional commit history\nof your repository.\n\nEnvironment Variables:\n\n| Name       | Description                                                   |\n|------------|---------------------------------------------------------------|\n| NSV_FORMAT | provide a go template for changing the default version format |\n| NSV_SHOW   | show how the next semantic version was generated              |\n</code></pre>"},{"location":"reference/cli/nsv-next/#usage","title":"Usage","text":"<pre><code>nsv next [flags]\n</code></pre>"},{"location":"reference/cli/nsv-next/#flags","title":"Flags","text":"<pre><code>-f, --format string   provide a go template for changing the default version\n                      format\n-h, --help            help for next\n-s, --show            show how the next semantic version was generated\n</code></pre>"},{"location":"reference/cli/nsv-playground/","title":"nsv playground","text":"<pre><code>A playground for discovering go template support.\n\nDiscover ways of formatting your repository tag using the in-built\ngo template annotations.\n\nEnvironment Variables:\n\n| Name       | Description                                       |\n|------------|---------------------------------------------------|\n| NSV_FORMAT | set a go template for formatting the provided tag |\n</code></pre>"},{"location":"reference/cli/nsv-playground/#usage","title":"Usage","text":"<pre><code>nsv playground &lt;tag&gt; [flags]\n</code></pre>"},{"location":"reference/cli/nsv-playground/#flags","title":"Flags","text":"<pre><code>-f, --format string   provide a go template for changing the default version\n                      format\n-h, --help            help for playground\n</code></pre>"},{"location":"reference/cli/nsv-tag/","title":"nsv tag","text":"<pre><code>Tag the repository with the next semantic version based on the conventional\ncommit history of your repository.\n\nEnvironment Variables:\n\n| Name            | Description                                              |\n|-----------------|----------------------------------------------------------|\n| NSV_FORMAT      | provide a go template for changing the default version   |\n|                 | format                                                   |\n| NSV_SHOW        | show how the next semantic version was generated         |\n| NSV_TAG_MESSAGE | a custom message for the tag, overrides the default      |\n|                 | message of: chore: tagged &lt;version&gt; by nsv               |\n</code></pre>"},{"location":"reference/cli/nsv-tag/#usage","title":"Usage","text":"<pre><code>nsv tag [flags]\n</code></pre>"},{"location":"reference/cli/nsv-tag/#flags","title":"Flags","text":"<pre><code>-f, --format string    provide a go template for changing the default version\n                       format\n-h, --help             help for tag\n-m, --message string   a custom message for the tag, overrides the default\n                       message of: chore: &lt;version&gt; tagged by nsv\n-s, --show             show how the next semantic version was generated\n</code></pre>"},{"location":"reference/cli/nsv/","title":"nsv","text":"<pre><code>Manage your semantic versioning without any config\n</code></pre>"},{"location":"reference/cli/nsv/#usage","title":"Usage","text":"<pre><code>nsv [command]\n</code></pre>"},{"location":"reference/cli/nsv/#commands","title":"Commands","text":"<pre><code>completion  Generate the autocompletion script for the specified shell\nhelp        Help about any command\nnext        Generate the next semantic version\nplayground  A playground for discovering go template support\ntag         Tag the repository with the next semantic version\nversion     Print build time version information\n</code></pre>"},{"location":"reference/cli/nsv/#flags","title":"Flags","text":"<pre><code>-h, --help   help for nsv\n</code></pre>"}]}